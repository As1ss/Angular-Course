import{A as a,B as m,C as T,D as F,E as w,F as N,G as M,H as Z,I as j,J as f,K as O,L as ee,M as te,Q as ie,S as ne,T as oe,U as z,X as I,Y as V,_ as re,a as A,b as H,c as q,d as G,e as y,f as K,g as R,h as Q,i as h,j as L,k as W,l as X,m as B,n as s,o as g,p as d,q as p,r as n,s as t,t as u,u as S,v as b,w as Y,x as E,y as C,z as D}from"./chunk-TF7NMGDF.js";var v=(()=>{let e=class e{constructor(r){this.httpClient=r,this.apiURL="https://restcountries.com/v3.1",this.cacheStore={byCapital:{term:"",countries:[]},byCountries:{term:"",countries:[]},byRegion:{region:"",countries:[]}},this.loadToLocalStorage()}saveToLocalStorage(){localStorage.setItem("cacheStore",JSON.stringify(this.cacheStore))}loadToLocalStorage(){localStorage.getItem("cacheStore")&&(this.cacheStore=JSON.parse(localStorage.getItem("cacheStore")))}getCountriesRequest(r){return this.httpClient.get(r).pipe(q(o=>A([])),G(200))}searchCountryByAlphaCode(r){let o=`${this.apiURL}/alpha/${r}`;return this.httpClient.get(o).pipe(H(l=>l.length>0?l[0]:null),q(l=>A(null)))}searchCapital(r){let o=`${this.apiURL}/capital/${r}`;return this.getCountriesRequest(o).pipe(y(l=>this.cacheStore.byCapital.countries=l),y(()=>this.cacheStore.byCapital.term=r),y(()=>this.saveToLocalStorage()))}searchCountry(r){let o=`${this.apiURL}/name/${r}`;return this.getCountriesRequest(o).pipe(y(l=>this.cacheStore.byCountries={term:r,countries:l}),y(()=>this.saveToLocalStorage()))}searchRegion(r){let o=`${this.apiURL}/region/${r}`;return this.getCountriesRequest(o).pipe(y(l=>this.cacheStore.byRegion={region:r,countries:l}),y(()=>this.saveToLocalStorage()))}};e.\u0275fac=function(o){return new(o||e)(Q(te))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var de=i=>["/countries/by",i];function he(i,e){i&1&&(n(0,"div",2),a(1,`
No hay resultados que mostrar.
`),t())}function ge(i,e){if(i&1&&(n(0,"tr")(1,"td"),a(2),t(),n(3,"td"),a(4),t(),n(5,"td"),u(6,"img",5),t(),n(7,"td"),a(8),t(),n(9,"td"),a(10),t(),n(11,"td"),a(12),w(13,"number"),t(),n(14,"td")(15,"a",6),a(16,"Info."),t()()()),i&2){let c=e.$implicit,r=e.index;s(2),m(r+1),s(2),m(c.flag),s(2),p("src",c.flags.svg,B)("alt",c.name.common),s(2),m(c.name.common),s(2),m(c.capital),s(2),m(N(13,8,c.population)),s(3),p("routerLink",F(10,de,c.cca2))}}function fe(i,e){if(i&1&&(n(0,"table",3)(1,"thead")(2,"tr")(3,"th"),a(4,"#"),t(),n(5,"th"),a(6,"Icon"),t(),n(7,"th"),a(8,"Bandera"),t(),n(9,"th"),a(10,"Nombre"),t(),n(11,"th"),a(12,"Capital"),t(),n(13,"th"),a(14,"Poblaci\xF3n"),t(),u(15,"th"),t()(),n(16,"tbody"),d(17,ge,17,12,"tr",4),t()()),i&2){let c=C();s(17),p("ngForOf",c.countries)}}var _=(()=>{let e=class e{constructor(){this.countries=[]}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=h({type:e,selectors:[["countries-table"]],inputs:{countries:"countries"},decls:3,vars:2,consts:[["mostrarPaises",""],["class","alert alert-warning text-center",4,"ngIf","ngIfElse"],[1,"alert","alert-warning","text-center"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[3,"src","alt"],[3,"routerLink"]],template:function(o,l){if(o&1&&d(0,he,2,0,"div",1)(1,fe,18,1,"ng-template",null,0,M),o&2){let P=D(2);p("ngIf",l.countries.length===0)("ngIfElse",P)}},dependencies:[j,f,oe,O],styles:["img[_ngcontent-%COMP%]{width:25px}"]});let i=e;return i})();function ve(i,e){i&1&&(S(0),u(1,"shared-loading-spinner"),b())}var se=(()=>{let e=class e{constructor(r){this.countryService=r,this.countries=[],this.isLoading=!1,this.initialValue=""}searchByCapitalPage(r){this.isLoading=!0,this.countryService.searchCapital(r).subscribe(o=>{this.countries=o,this.isLoading=!1})}ngOnInit(){this.countries=this.countryService.cacheStore.byCapital.countries,this.initialValue=this.countryService.cacheStore.byCapital.term}};e.\u0275fac=function(o){return new(o||e)(g(v))},e.\u0275cmp=h({type:e,selectors:[["app-by-capital-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col"],["placeholder","Introduce el pa\xEDs...",3,"messageDebounce","initialValue"],[4,"ngIf"],[3,"countries"]],template:function(o,l){o&1&&(n(0,"h2"),a(1,"Por Capital"),t(),u(2,"hr"),n(3,"div",0)(4,"div",1)(5,"shared-search-box",2),E("messageDebounce",function(U){return l.searchByCapitalPage(U)}),t()()(),n(6,"div",0)(7,"div",1),u(8,"hr"),d(9,ve,2,0,"ng-container",3),u(10,"countries-table",4),t()()),o&2&&(s(5),p("initialValue",l.initialValue),s(4),p("ngIf",l.isLoading),s(),p("countries",l.countries))},dependencies:[f,I,V,_]});let i=e;return i})();function Ce(i,e){i&1&&(S(0),u(1,"shared-loading-spinner"),b())}var ce=(()=>{let e=class e{constructor(r){this.countriesService=r,this.countries=[],this.initialValue="",this.isLoading=!1}searchByCountryPage(r){this.isLoading=!0,this.countriesService.searchCountry(r).subscribe(o=>{this.countries=o,this.isLoading=!1})}ngOnInit(){this.countries=this.countriesService.cacheStore.byCountries.countries,this.initialValue=this.countriesService.cacheStore.byCountries.term}};e.\u0275fac=function(o){return new(o||e)(g(v))},e.\u0275cmp=h({type:e,selectors:[["by-country-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col"],["placeholder","Introduce la capital...",3,"messageDebounce","initialValue"],[4,"ngIf"],[3,"countries"]],template:function(o,l){o&1&&(n(0,"h2"),a(1,"Por Pa\xEDs"),t(),u(2,"hr"),n(3,"div",0)(4,"div",1)(5,"shared-search-box",2),E("messageDebounce",function(U){return l.searchByCountryPage(U)}),t()()(),n(6,"div",0)(7,"div",1),u(8,"hr"),d(9,Ce,2,0,"ng-container",3),u(10,"countries-table",4),t()()),o&2&&(s(5),p("initialValue",l.initialValue),s(4),p("ngIf",l.isLoading),s(),p("countries",l.countries))},dependencies:[f,I,V,_]});let i=e;return i})();var xe=i=>({"btn-outline-primary":i});function Se(i,e){if(i&1){let c=Y();n(0,"button",6),E("click",function(){let o=W(c).$implicit,l=C();return X(l.searchByRegionPage(o))}),a(1),t()}if(i&2){let c=e.$implicit,r=C();p("ngClass",F(2,xe,c===r.selectedRegion)),s(),T(" ",c," ")}}function be(i,e){i&1&&(S(0),u(1,"shared-loading-spinner"),b())}var le=(()=>{let e=class e{constructor(r){this.countriesService=r,this.countries=[],this.regions=["Africa","Americas","Asia","Europe","Oceania"],this.isLoading=!1}searchByRegionPage(r){this.isLoading=!0,this.selectedRegion=r,this.countriesService.searchRegion(r).subscribe(o=>{this.countries=o,this.isLoading=!1})}ngOnInit(){this.countries=this.countriesService.cacheStore.byRegion.countries,this.selectedRegion=this.countriesService.cacheStore.byRegion.region}};e.\u0275fac=function(o){return new(o||e)(g(v))},e.\u0275cmp=h({type:e,selectors:[["app-by-region-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col","text-center"],["class","btn mx-2",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col"],[4,"ngIf"],[3,"countries"],[1,"btn","mx-2",3,"click","ngClass"]],template:function(o,l){o&1&&(n(0,"h2"),a(1,"Por Pa\xEDs"),t(),u(2,"hr"),n(3,"div",0)(4,"div",1),d(5,Se,2,4,"button",2),t()(),n(6,"div",0)(7,"div",3),u(8,"hr"),d(9,be,2,0,"ng-container",4),u(10,"countries-table",5),t()()),o&2&&(s(5),p("ngForOf",l.regions),s(4),p("ngIf",l.isLoading),s(),p("countries",l.countries))},dependencies:[Z,j,f,I,_]});let i=e;return i})();function Ee(i,e){if(i&1&&(n(0,"div",null,1)(2,"div",3)(3,"div",4)(4,"h2"),a(5,"Pa\xEDs: "),n(6,"b"),a(7),t()(),u(8,"hr"),t()(),n(9,"div",3)(10,"div",5)(11,"h3"),a(12,"Bandera"),t(),u(13,"img",6),t(),n(14,"div",5)(15,"h3"),a(16,"Informaci\xF3n"),t(),n(17,"ul",7)(18,"li",8)(19,"b"),a(20,"Poblaci\xF3n:"),t(),a(21),w(22,"number"),t(),n(23,"li",8)(24,"b"),a(25,"C\xF3digo: "),t(),a(26),t()()()(),n(27,"div",9)(28,"div",5)(29,"h3"),a(30,"Traducciones"),t(),n(31,"div",10)(32,"span",11),a(33),t(),n(34,"span",11),a(35),t(),n(36,"span",11),a(37),t(),n(38,"span",11),a(39),t(),n(40,"span",11),a(41),t(),n(42,"span",11),a(43),t(),n(44,"span",11),a(45),t(),n(46,"span",11),a(47),t(),n(48,"span",11),a(49),t(),n(50,"span",11),a(51),t(),n(52,"span",11),a(53),t(),n(54,"span",11),a(55),t(),n(56,"span",11),a(57),t(),n(58,"span",11),a(59),t(),n(60,"span",11),a(61),t(),n(62,"span",11),a(63),t()()()()()),i&2){let c=C();s(7),m(c.country.name.common),s(6),p("src",c.country.flags.svg,B)("alt",c.country.name.common),s(8),T(" ",N(22,21,c.country.population)," "),s(5),T("",c.country.cca2," "),s(7),m(c.country.translations.spa.common),s(2),m(c.country.translations.ara.common),s(2),m(c.country.translations.fra.common),s(2),m(c.country.translations.jpn.common),s(2),m(c.country.translations.bre.common),s(2),m(c.country.translations.ces.common),s(2),m(c.country.translations.cym.common),s(2),m(c.country.translations.deu.common),s(2),m(c.country.translations.est.common),s(2),m(c.country.translations.fin.common),s(2),m(c.country.translations.hrv.common),s(2),m(c.country.translations.hun.common),s(2),m(c.country.translations.ita.common),s(2),m(c.country.translations.tur.common),s(2),m(c.country.translations.urd.common),s(2),m(c.country.translations.zho.common)}}function Ie(i,e){i&1&&(n(0,"div",12)(1,"span",13),a(2,"Espere por favor..."),t()())}var me=(()=>{let e=class e{constructor(r,o,l){this.countriesService=r,this.activatedRoute=o,this.router=l}ngOnInit(){this.activatedRoute.params.subscribe(r=>this.countriesService.searchCountryByAlphaCode(r.id).subscribe(o=>{o?(console.log("Tenemos un pa\xEDs"),this.country=o):this.router.navigateByUrl("")}))}};e.\u0275fac=function(o){return new(o||e)(g(v),g(ie),g(ne))},e.\u0275cmp=h({type:e,selectors:[["app-country-page"]],decls:3,vars:2,consts:[["alert",""],["normal",""],[4,"ngIf","ngIfElse"],[1,"row"],[1,"col-12"],[1,"col"],[1,"img-thumbnail",3,"src","alt"],[1,"list-group"],[1,"list-group-item"],[1,"row","mt-2"],[1,"d-flex","flex-wrap"],[1,"badge","bg-primary","m-1"],[1,"alert","alert-info","text-center"],[1,"text-info"]],template:function(o,l){if(o&1&&d(0,Ee,64,23,"div",2)(1,Ie,3,0,"ng-template",null,0,M),o&2){let P=D(2);p("ngIf",l.country)("ngIfElse",P)}},dependencies:[f,O]});let i=e;return i})();var _e=[{path:"by-capital",component:se},{path:"by-country",component:ce},{path:"by-region",component:le},{path:"by/:id",component:me},{path:"**",redirectTo:"by-capital"}],pe=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=L({type:e}),e.\u0275inj=R({imports:[z.forChild(_e),z]});let i=e;return i})();var Xe=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=L({type:e}),e.\u0275inj=R({imports:[ee,pe,re]});let i=e;return i})();export{Xe as CountriesModule};
